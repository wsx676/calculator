# 计算器 MCP 服务器

这是一个基于Gradio库实现的计算器MCP（Model Context Protocol）服务器。该计算器提供了丰富的计算功能和友好的Web界面，可以通过浏览器进行访问和使用。

## 功能特点

### 基本功能
- 数字输入（0-9）
- 基本运算（加、减、乘、除）
- 小数点输入
- 结果计算（等号）

### 编辑功能
- 清除所有输入（C）
- 清除当前输入（CE）
- 退格删除（⌫）
- 正负号切换（+/-）

### 高级功能
- 平方根计算（√）
- 平方计算（x²）
- 倒数计算（1/x）
- 百分比计算（%）

### 内存功能
- 内存清除（MC）
- 内存调用（MR）
- 内存加法（M+）
- 内存减法（M-）
- 内存存储（MS）

### 状态查询
- 获取计算器当前状态

## 安装要求

运行该计算器MCP服务器需要以下依赖：

```bash
pip install gradio
```

## 使用方法

1. 确保已安装所需依赖
2. 运行服务器：

```bash
python calculator_mcp_server.py
```

3. 通过Web界面使用计算器功能

## 技术实现

该计算器MCP服务器由以下主要部分组成：

1. `Calculator` 类：实现计算器的核心功能和状态管理
2. `create_calculator_server` 函数：创建Gradio界面并绑定计算器功能
3. Gradio界面：提供用户交互的Web界面

## 界面说明

计算器界面分为以下几个部分：

- **显示区域**：显示当前输入和操作栈
- **数字区域**：包含数字按钮（0-9）和小数点
- **操作区域**：包含基本运算符和功能按钮
- **高级功能区域**：包含高级数学功能和内存操作按钮
- **状态查询区域**：显示计算器的当前状态

## 开发扩展

如需扩展计算器功能，可以：

1. 在 `Calculator` 类中添加新的计算方法
2. 在 `create_calculator_server` 函数中添加对应的Gradio接口函数
3. 在Gradio界面中添加新的按钮并绑定相应功能

## 注意事项

- 计算器使用 `eval()` 函数进行表达式计算，在生产环境中应考虑更安全的替代方案
- 服务器默认在所有网络接口（0.0.0.0）上监听7860端口
- 启用了共享功能（share=True），可以生成一个临时的公共URL供他人访问

## 停止服务器


在命令行中按 `Ctrl+C` 可以停止服务器运行。
